---
layout: post
comments: true
title:  "이펙티브 자바 3/E_제네릭"
date:   2019-10-20 22:00:00
author: Gongdel
categories: Book
tags:	 Java Book EffectiveJava
cover:  "/assets/instacode.png"
---
# 6장. 열거 타입과 애너테이션
자바에는 특수한 목적의 참조 타입이 두 가지가 있다.
+ 클래스의 일종인 열거 타입(enum; 열거형)
+ 인터페이스의 일종인 애너테이션(annotation)

이 타입들을 올바르게 사용하는 방법을 알아보자.

## 34. int 상수대신 열거 타입을 사용하라.
### 핵심 정리
열거 타입은 확실히 정수 상수보다 뛰어나다. 더 읽기 쉽고 안전하고 강력하다.  
대다수 열거 타입이 명시적 생성자나 메서드 없이 쓰이지만, 각 상수를 특정 데이터와 연결짓거나 상수마다 다르게 동작하게 할 때는 필요하다.  
드물게는 하나의 메서드가 상수별로 다르게 동작해야 할 때도 있다. 이런 열거 타입에서는 switch 문 대신 상수별 메서드 구현을 사용하자. 열거 타입 상수 일부가 같은 동작을 공유한다면 전략 열거 타입 패턴을 사용하자.

## 35. ordinal 메서드 대신 인스턴스 필드를 사용하라.
## 36. 비트 필드 대신 EnumSet을 사용하라.
### 핵심 정리
열거할 수 있는 타입을 한데 모아 집합 형태로 사용한다고 해도 비트 필드를 사용할 이유는 없다.  
EnumSet 클래스가 비트 필드 수준의 명료함과 성능을 제공하고 아이템 34에서 설명한 열거 타입의 장점까지 선사하기 때문이다.  
EnumSet의 유일한 단점이라면 (자바 9까지는 아직) 불변 EnumSet을 만들 수 없다는 것이다. 그래도 향후 릴리스에서는 수정되리라 본다.  
그때까지는 (명확성과 성능이 조금 희생되지만) Collections.unmodifiableSet으로 EnumSet을 감싸 사용할 수 있다.

## 37. ordinal 인덱싱 대신 EnumMap을 사용하라.
### 핵심 정리
배열의 인덱스를 얻기 위해 ordinal을 쓰는 것은 일반적으로 좋지 않으니, 대신 EnumMap을 사용하라.  
다차원 관계는 EnumMap<..., EnumMap<...>>으로 표현하라. ""애플리케이션 프로그래머는 Enum.ordinal을 (웬만해서는) 사용하지 말아야 한다"(아이템 35)는 일반 원칙의 특수한 사례다.
